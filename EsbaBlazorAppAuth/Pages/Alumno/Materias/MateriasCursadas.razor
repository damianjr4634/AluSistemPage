@page "/alumno/materias/{CarreraId}/{AlumnoId}"

@inherits _BasePage

<h1>Materias</h1>

<RadzenDataGrid @ref="materiasGrid" Data="@_materiasCursadas" TItem="MateriaCursadaDto" AllowColumnResize="true"
                CellRender="@CellRender" Width="600px">
    <Columns>   
        <RadzenDataGridColumn Width="50px" TItem="MateriaCursadaDto" Property="cuatrim" Title="Cuat" TextAlign="TextAlign.Center" />                            
        <RadzenDataGridColumn Width="90px" TItem="MateriaCursadaDto" Property="inscripcion" Title="Inscripcion" TextAlign="TextAlign.Center">
            <Template Context="data">             
                @if (data.inscripcion)  {
                  <RadzenButton ButtonStyle="ButtonStyle.Secondary" Click=@(() => navigationManager.NavigateTo(@$"/alumno/materias/inscripcion/{CarreraId}/{AlumnoId}/{data.codmat}") )>
                      <span style="color:white;font-size:18px"><i class="fas fa-clipboard-check"></i></span>
                  </RadzenButton> 
                }
            </Template>
        </RadzenDataGridColumn>      
        <RadzenDataGridColumn Width="95px" TItem="MateriaCursadaDto" Property="permiso" Title="Permiso" TextAlign="TextAlign.Center">
            <Template Context="data">             
                @if (data.permiso)  {
                  <RadzenButton ButtonStyle="ButtonStyle.Secondary" Click=@(() => navigationManager.NavigateTo(@$"/alumno/materias/inscripcionexamen/{CarreraId}/{AlumnoId}/{data.codmat}") )>
                       <span style="color:white;font-size:18px"><i class="fas fa-book-open"></i></span>
                  </RadzenButton>
                }
            </Template>
        </RadzenDataGridColumn>       
        <RadzenDataGridColumn TItem="MateriaCursadaDto" Property="descripci" Title="Materia" />          
        <RadzenDataGridColumn Width="125px" TItem="MateriaCursadaDto" Property="condicion" Title="Estado" >  
            <Template Context="data">               
                <span style="color:@data.htmlfontcolor;">@data.condicion</span>                
            </Template>
        </RadzenDataGridColumn>
        <RadzenDataGridColumn Width="90px" TItem="MateriaCursadaDto" Property="cuaanio" Title="Cuatri/AÃ±o"  />  
        <RadzenDataGridColumn Width="90px" TItem="MateriaCursadaDto" Property="nota" Title="Nota" TextAlign="TextAlign.Right" FormatString="{0:N}"/>  
        <RadzenDataGridColumn Width="120px" TItem="MateriaCursadaDto" Property="fecha" Title="Fecha">
            <Template Context="data">             
                @if (data.fecha != null)  {
                  @data.fecha.Value.ToString("dd/MM/yyyy")
                }
            </Template>
        </RadzenDataGridColumn>            
    </Columns>
</RadzenDataGrid>

